<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Gerador de mensagens promocionais para WhatsApp e imagens para Instagram Stories. Ferramenta para afiliados Shopee.">
    <title>Gerador de Mensagens Shopee - Itamb√© Promo√ß√µes</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="background-blobs">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
    </div>

    <main class="container">
        <header class="app-header">
            <h1>Gerador de Promo√ß√µes</h1>
            <p>Affiliate WhatsApp Marketing</p>
        </header>

        <div class="grid-layout">
            <section class="card form-card">
                <h2>üìã Dados da Oferta</h2>
                <form id="promoForm">
                    <div class="form-group">
                        <label for="titulo">T√≠tulo da Oferta</label>
                        <input type="text" id="titulo" placeholder="Ex: Super Promo√ß√£o de Smartphone">
                    </div>

                    <div class="form-group">
                        <label for="nomeProduto">Nome do Produto</label>
                        <input type="text" id="nomeProduto" placeholder="Ex: Samsung Galaxy S23 Ultra 256GB" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="precoAntigo">Pre√ßo Antigo (R$)</label>
                            <input type="number" id="precoAntigo" placeholder="0,00" step="0.01">
                        </div>
                        <div class="form-group">
                            <label for="precoAtual">Pre√ßo Atual (R$)</label>
                            <input type="number" id="precoAtual" placeholder="0,00" step="0.01" required>
                        </div>
                    </div>

                    <div id="parcelamentoContainer" class="hidden">
                        <label>Op√ß√µes de Parcelamento</label>
                        <div class="form-row">
                            <div class="form-group no-margin">
                                <input type="number" id="parcelasQtd" placeholder="Qtd (ex: 10)" min="1">
                            </div>
                            <div class="form-group no-margin">
                                <input type="number" id="parcelasValor" placeholder="Valor (ex: 59,90)" step="0.01">
                            </div>
                        </div>
                        <div class="form-group checkbox-group no-margin top-spacing">
                            <input type="checkbox" id="parcelasSemJuros">
                            <label for="parcelasSemJuros">Sem juros</label>
                        </div>
                    </div>

                    <div class="form-group checkbox-group">
                        <input type="checkbox" id="freteGratis">
                        <label for="freteGratis">Frete Gr√°tis Dispon√≠vel</label>
                    </div>

                    <div class="form-group checkbox-group">
                        <input type="checkbox" id="comCupom">
                        <label for="comCupom">üéüÔ∏è Com cupom</label>
                    </div>

                    <div class="form-group">
                        <label for="linkAfiliado">Link de Afiliado (Shopee)</label>
                        <input type="url" id="linkAfiliado" placeholder="https://shope.ee/..." required>
                    </div>
                </form>
            </section>

            <section class="card preview-card">
                <div class="preview-header">
                    <h2>üì± Pr√©via da Mensagem</h2>
                    <span id="priceTag" class="badge">Aguardando pre√ßo...</span>
                </div>
                
                <div class="preview-box">
                    <pre id="messageOutput">Preencha os dados ao lado para gerar a mensagem...</pre>
                </div>

                <div class="actions">
                    <div class="json-section">
                        <label for="jsonInput" class="json-section__label">Cole o JSON da Shopee aqui:</label>
                        <textarea id="jsonInput" class="json-section__input" placeholder='{"data": ...}'></textarea>
                        
                        <button type="button" id="btnLoadJson" class="btn-primary btn-load-json">
                            üìÇ Carregar Produtos
                        </button>
                        
                        <button type="button" id="btnFetchHighCommission" class="btn-primary btn-fetch-commission">
                            üí∞ Buscar Maior Comiss√£o e Atualizar Planilha
                        </button>
                    </div>

                    <div id="productsList" class="products-list"></div>

                    <button type="button" id="btnSend" class="btn-primary btn-whatsapp">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.472 14.382C17.112 14.382 14.665 13.342 14.305 13.342C13.945 13.342 13.585 13.842 13.465 13.962C12.745 14.682 9.42497 10.422 9.06497 10.062C8.94497 9.942 9.42497 8.982 9.42497 8.622C9.42497 8.262 9.06497 7.062 8.70497 6.102C8.34497 5.142 7.74497 5.622 7.50497 5.742C7.26497 5.862 6.54497 5.982 6.18497 6.342C5.94497 6.582 5.22497 7.302 5.22497 8.982C5.22497 10.662 6.54497 12.582 6.78497 12.942C7.98497 14.862 10.985 18.222 15.185 18.222C19.385 18.222 18.665 14.382 18.185 14.382C17.945 14.382 17.592 14.382 17.472 14.382Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Enviar para o WhatsApp (Manual)
                    </button>
                </div>
            </section>
        </div>
    </main>

    <canvas id="storyCanvas" style="display: none;"></canvas>

    <script src="js/form.js"></script>
    <script src="js/share.js"></script>
    <script src="js/storyCanvas.js"></script>
    <script src="js/productCards.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
